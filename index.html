<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>Hoje √© quinta-feira?</title>
    <meta name="description" content="Hoje √© quinta-feira?">
    <link rel="canonical" href="https://quinta.feira.br/" />
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="Hoje √© quinta-feira?" />
    <meta property="og:url" content="https://quinta.feira.br/" />
    <meta property="og:description" content="Hoje √© quinta-feira?">

    <link
      rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    >
    <script src="https://kit.fontawesome.com/81b62d1be5.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>

    <link rel="apple-touch-icon" sizes="180x180" href="https://sasse-it.s3.us-east-2.amazonaws.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://sasse-it.s3.us-east-2.amazonaws.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://sasse-it.s3.us-east-2.amazonaws.com/favicon-16x16.png">

    <script>
      let verbs = [
        "Considerando",
        "Verificando",
        "Calculando",
        "Computando",
        "Descobrindo",
        "Prevendo",
        "Preparando",
        "Estimando",
      ];

      let checks = [
        "o hor√°rio de ver√£o",
        "a sua localiza√ß√£o",
        "o seu signo",
        "ano bissexto",
        "o fuso hor√°rio",
        "a fase da lua",
        "a conjuntura atual",
        "o calend√°rio gregoriano",
        "a esta√ß√£o do ano",
        "a virada do mil√™nio",
        "o overflow de buffers",
      ];

      function showResult() {
        const today = new Date();
        if (today.getDay() === 4) {
          $('.js--thursday').slideDown();
        } else {
          $('.js--not-thursday').slideDown();
        }

        $('.js--calculating').slideUp();
        $('.js--calculating__step').slideUp();
      }

      function addEllipsisToStep() {
        const phrase = $('.js--calculating__step').text();
        $('.js--calculating__step').text(phrase + '.');
      }

      function randomVerb() {
        const index = Math.floor(Math.random() * verbs.length);
        return verbs.splice(index, 1);
      }

      function randomCheck() {
        const index = Math.floor(Math.random() * checks.length);
        return checks.splice(index, 1);
      }

      function changeStep() {
        const phrase = randomVerb() + ' ' + randomCheck();
        $('.js--calculating__step').text(phrase);
      }

      function advance(remainingSteps) {
        if (remainingSteps === 0){
          return showResult();
        }

        const rest = remainingSteps % 4;
        console.log(rest);
        if (rest === 0) {
          console.log('changeStep');
          changeStep();
        } else {
          console.log('addEllipsis');
          addEllipsisToStep();
        }

        setTimeout(function () {
          advance(remainingSteps - 1);
        }, 500);
      }
    </script>
  </head>

  <body>
    <div class="container d-flex flex-column align-items-center justify-content-center text-center" style="min-height: 100vh">
      <h1 class="js--calculating">
        <i class="fas fa-circle-notch fa-spin mr-2"></i>
        Calculando...
      </h1>

      <p class="js--calculating__step text-muted font-italic">
      </p>

      <h1 class="js--thursday" style="display: none;">
        <span class="d-inline-block">Hoje √©</span>
        <span class="d-inline-block">quinta-feira!</span>
        <span class="d-inline-block">üçª</span>
      </h1>

      <h1 class="js--not-thursday" style="display: none;">
        <span class="d-inline-block">Hoje n√£o √©</span>
        <span class="d-inline-block">quinta-feira :(</span>
      </h1>
    </div>

    <script>
      advance(12);
    </script>
  </body>
</html>
